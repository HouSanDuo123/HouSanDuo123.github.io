<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>2020年10月17日-10月25日 | 三多之路</title><meta name="keywords" content="Learning Log"><meta name="author" content="侯三多"><meta name="copyright" content="侯三多"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="此页面用于记录每日学习情况，用来监督自己，同时把学习资源放在此处方便日后回顾。  2020年10月25日写一门课的报告，感觉还是效率太低，不应该花费那么多时间来做这件事。 2020年10月24日今天在配置pytorch环境，弄了一天也没有搞定，还卸载两次anaconda。 真可谓是：一杯茶、一包烟、一个环境配一天！ 组里的小伙伴过生日，偷偷给他买一个蛋糕，大大的惊喜！ 1024节日快乐！ 202">
<meta property="og:type" content="article">
<meta property="og:title" content="2020年10月17日-10月25日">
<meta property="og:url" content="http://example.com/2020/10/17/LL-%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%9710%E6%9C%8817%E6%97%A5-10%E6%9C%8825%E6%97%A5/index.html">
<meta property="og:site_name" content="三多之路">
<meta property="og:description" content="此页面用于记录每日学习情况，用来监督自己，同时把学习资源放在此处方便日后回顾。  2020年10月25日写一门课的报告，感觉还是效率太低，不应该花费那么多时间来做这件事。 2020年10月24日今天在配置pytorch环境，弄了一天也没有搞定，还卸载两次anaconda。 真可谓是：一杯茶、一包烟、一个环境配一天！ 组里的小伙伴过生日，偷偷给他买一个蛋糕，大大的惊喜！ 1024节日快乐！ 202">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://store-images.s-microsoft.com/image/apps.48707.14224260644356105.8c88ca90-ccbc-4f4e-b92b-a1ca170cbc77.4971ac5d-1f03-483a-b2c9-0f89c8d6d803?w=672&h=378&q=80&mode=letterbox&background=%23FFE4E4E4&format=jpg">
<meta property="article:published_time" content="2020-10-17T00:26:39.000Z">
<meta property="article:modified_time" content="2020-10-26T01:30:17.576Z">
<meta property="article:author" content="侯三多">
<meta property="article:tag" content="Learning Log">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://store-images.s-microsoft.com/image/apps.48707.14224260644356105.8c88ca90-ccbc-4f4e-b92b-a1ca170cbc77.4971ac5d-1f03-483a-b2c9-0f89c8d6d803?w=672&h=378&q=80&mode=letterbox&background=%23FFE4E4E4&format=jpg"><link rel="shortcut icon" href="/img/avatar.jpg"><link rel="canonical" href="http://example.com/2020/10/17/LL-%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%9710%E6%9C%8817%E6%97%A5-10%E6%9C%8825%E6%97%A5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":100,"languages":{"author":"Author: 侯三多","link":"Link: ","source":"Source: 三多之路","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  ClickShowText: {"text":"I,LOVE,YOU","fontSize":"15px"},
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-10-26 09:30:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">16</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8825%E6%97%A5"><span class="toc-number">1.</span> <span class="toc-text">2020年10月25日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8824%E6%97%A5"><span class="toc-number">2.</span> <span class="toc-text">2020年10月24日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8823%E6%97%A5"><span class="toc-number">3.</span> <span class="toc-text">2020年10月23日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8822%E6%97%A5"><span class="toc-number">4.</span> <span class="toc-text">2020年10月22日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8821%E6%97%A5"><span class="toc-number">5.</span> <span class="toc-text">2020年10月21日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8820%E6%97%A5"><span class="toc-number">6.</span> <span class="toc-text">2020年10月20日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8819%E6%97%A5"><span class="toc-number">7.</span> <span class="toc-text">2020年10月19日</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%BD%9C%E4%B8%9A%E4%B8%80%EF%BC%9ARegression"><span class="toc-number">7.1.</span> <span class="toc-text">李宏毅机器学习作业一：Regression</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8818%E6%97%A5%E3%80%81"><span class="toc-number">8.</span> <span class="toc-text">2020年10月18日、</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95"><span class="toc-number">8.1.</span> <span class="toc-text">多元线性回归算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number">8.1.1.</span> <span class="toc-text">数据处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%A5%BD%E7%9A%84%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95"><span class="toc-number">8.1.2.</span> <span class="toc-text">封装好的回归算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%85%83%E5%9B%9E%E5%BD%92%E7%B3%BB%E6%95%B0%E7%9F%A9%E9%98%B5"><span class="toc-number">8.2.</span> <span class="toc-text">多元回归系数矩阵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E6%B3%95%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%EF%BC%9A%E7%9F%A9%E9%98%B5%E8%A7%86%E8%A7%92"><span class="toc-number">8.3.</span> <span class="toc-text">最小二乘法线性回归：矩阵视角</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git%E5%AE%89%E8%A3%85%E3%80%81%E4%BD%BF%E7%94%A8"><span class="toc-number">8.4.</span> <span class="toc-text">Git安装、使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OpenCV-VisualStudio%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">8.5.</span> <span class="toc-text">OpenCV+VisualStudio环境配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%83%E8%AF%AD"><span class="toc-number">8.6.</span> <span class="toc-text">心语</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2020%E5%B9%B410%E6%9C%8817%E6%97%A5"><span class="toc-number">9.</span> <span class="toc-text">2020年10月17日</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.</span> <span class="toc-text">pandas读取文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96txt%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.1.</span> <span class="toc-text">读取txt文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86csv%E6%96%87%E4%BB%B6%E8%AF%BB%E5%85%A5%E5%AD%97%E5%85%B8"><span class="toc-number">9.1.2.</span> <span class="toc-text">将csv文件读入字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8csv%E5%86%99%E5%85%A5csv%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.3.</span> <span class="toc-text">使用csv写入csv文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8csv%E6%8A%8A%E5%AD%97%E5%85%B8%E5%86%99%E5%85%A5csv%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.4.</span> <span class="toc-text">使用csv把字典写入csv文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8pandas%E8%AF%BB%E5%8F%96csv%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.5.</span> <span class="toc-text">使用pandas读取csv文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92"><span class="toc-number">9.2.</span> <span class="toc-text">线性回归</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92"><span class="toc-number">9.2.1.</span> <span class="toc-text">简单线性回归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95"><span class="toc-number">9.2.2.</span> <span class="toc-text">手动实现简单线性回归算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95%E8%AF%84%E4%BC%B0"><span class="toc-number">9.2.3.</span> <span class="toc-text">回归算法评估</span></a></li></ol></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://store-images.s-microsoft.com/image/apps.48707.14224260644356105.8c88ca90-ccbc-4f4e-b92b-a1ca170cbc77.4971ac5d-1f03-483a-b2c9-0f89c8d6d803?w=672&amp;h=378&amp;q=80&amp;mode=letterbox&amp;background=%23FFE4E4E4&amp;format=jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">三多之路</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">2020年10月17日-10月25日</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-10-17T00:26:39.000Z" title="Created 2020-10-17 08:26:39">2020-10-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2020-10-26T01:30:17.576Z" title="Updated 2020-10-26 09:30:17">2020-10-26</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">3.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>16min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><blockquote>
<p>此页面用于记录每日学习情况，用来监督自己，同时把学习资源放在此处方便日后回顾。</p>
</blockquote>
<h1 id="2020年10月25日"><a href="#2020年10月25日" class="headerlink" title="2020年10月25日"></a>2020年10月25日</h1><p>写一门课的报告，感觉还是效率太低，不应该花费那么多时间来做这件事。</p>
<h1 id="2020年10月24日"><a href="#2020年10月24日" class="headerlink" title="2020年10月24日"></a>2020年10月24日</h1><p>今天在配置pytorch环境，弄了一天也没有搞定，还卸载两次anaconda。</p>
<p>真可谓是：一杯茶、一包烟、一个环境配一天！</p>
<p>组里的小伙伴过生日，偷偷给他买一个蛋糕，大大的惊喜！</p>
<p>1024节日快乐！</p>
<h1 id="2020年10月23日"><a href="#2020年10月23日" class="headerlink" title="2020年10月23日"></a>2020年10月23日</h1><p>今天课最多，下午打球，晚上回实验室学习。</p>
<p>多运动挺好的！</p>
<h1 id="2020年10月22日"><a href="#2020年10月22日" class="headerlink" title="2020年10月22日"></a>2020年10月22日</h1><ul>
<li><input checked disabled type="checkbox"> 《JavaScript前端开发指南（高鹏）》：函数、数组、对象、类、JSON、BOM</li>
<li><input checked disabled type="checkbox"> 机器学习视频：P13</li>
<li><input checked disabled type="checkbox"> 看论文</li>
</ul>
<h1 id="2020年10月21日"><a href="#2020年10月21日" class="headerlink" title="2020年10月21日"></a>2020年10月21日</h1><p>李宏毅机器学习作业2：classification，作业已经发布在博客中；</p>
<p>机器学习视频P12、P13</p>
<h1 id="2020年10月20日"><a href="#2020年10月20日" class="headerlink" title="2020年10月20日"></a>2020年10月20日</h1><p>机器学习视频：P11以及作业二（明天做完）</p>
<p>最近学习开始慢慢进入了状态，也变得很有规律了，要保持，不过临近期中，要完成一些课程报告了。</p>
<h1 id="2020年10月19日"><a href="#2020年10月19日" class="headerlink" title="2020年10月19日"></a>2020年10月19日</h1><h2 id="李宏毅机器学习作业一：Regression"><a href="#李宏毅机器学习作业一：Regression" class="headerlink" title="李宏毅机器学习作业一：Regression"></a>李宏毅机器学习作业一：Regression</h2><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42447868/article/details/105261672">https://blog.csdn.net/weixin_42447868/article/details/105261672</a></p>
<p><a target="_blank" rel="noopener" href="https://housanduo123.github.io/2020/10/19/%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E6%9D%8E%E5%AE%8F%E6%AF%852020spring%EF%BC%89%E4%BD%9C%E4%B8%9A1%EF%BC%9ARegression/">作业链接</a></p>
<p>机器学习视频：P4、P5、P6、P7、P10</p>
<h1 id="2020年10月18日、"><a href="#2020年10月18日、" class="headerlink" title="2020年10月18日、"></a>2020年10月18日、</h1><h2 id="多元线性回归算法"><a href="#多元线性回归算法" class="headerlink" title="多元线性回归算法"></a>多元线性回归算法</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46072771/article/details/104875456">https://blog.csdn.net/weixin_46072771/article/details/104875456</a></p>
<h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame, Series</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br></pre></td></tr></table></figure>

<h3 id="封装好的回归算法"><a href="#封装好的回归算法" class="headerlink" title="封装好的回归算法"></a>封装好的回归算法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinearRegression</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.coef_ = <span class="literal">None</span>    <span class="comment">#系数</span></span><br><span class="line">        self.interception_ = <span class="literal">None</span>  <span class="comment">#截距</span></span><br><span class="line">        self._theta = <span class="literal">None</span>   <span class="comment">#回归系数矩阵</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit_normal</span>(<span class="params">self, x_train, y_train</span>):</span></span><br><span class="line">        <span class="comment">#判断数据集的行数是否相等，如果相等就继续，否则异常报错</span></span><br><span class="line">        <span class="keyword">assert</span> x_train.shape[<span class="number">0</span>] == y_train.shape[<span class="number">0</span>], <span class="string">&quot;数据集有问题&quot;</span></span><br><span class="line">        </span><br><span class="line">        x_b = self._data_arrange(x_train)</span><br><span class="line">        self._theta = np.linalg.inv(x_b.T.dot(x_b)).dot(x_b.T).dot(y_train)</span><br><span class="line">        self.interception_ = self._theta[<span class="number">0</span>]</span><br><span class="line">        self.coef_ = self._theta[<span class="number">1</span>:]</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_data_arrange</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="comment">#数据处理</span></span><br><span class="line">        <span class="keyword">return</span> np.hstack([np.ones((len(data), <span class="number">1</span>)), data]) </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">self, x_test</span>):</span></span><br><span class="line">        x_predict = self._data_arrange(x_test)</span><br><span class="line">        <span class="keyword">return</span> x_predict.dot(self._theta)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span>(<span class="params">self, x_test, y_test</span>):</span></span><br><span class="line">        y_predict = self.predict(x_test)</span><br><span class="line">        mse = np.sum((y_predict - y_test)**<span class="number">2</span>) / len(y_test)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> - mse / np.var(y_test)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;多元线性回归&quot;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#调用数据集</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line">boston = datasets.load_boston()</span><br><span class="line"></span><br><span class="line">x = boston.data</span><br><span class="line">y = boston.target</span><br><span class="line"></span><br><span class="line">x = x[y&lt;<span class="number">50.0</span>]</span><br><span class="line">y = y[y&lt;<span class="number">50.0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#分出训练集和测试集</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x, y, test_size = <span class="number">0.25</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LR = LinearRegression()</span><br><span class="line">LR.fit_normal(x_train, y_train)</span><br><span class="line">print(LR.coef_)</span><br><span class="line">print(LR.interception_)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>[-1.00264809e-01  2.90685614e-02 -6.96864490e-02  9.01738567e-02
 -1.28455530e+01  3.69111172e+00 -2.70338505e-02 -1.33459106e+00
  2.19642211e-01 -1.19179332e-02 -8.95809519e-01  7.71167971e-03
 -3.48130575e-01]
34.60682029779116</code></pre>
<h2 id="多元回归系数矩阵"><a href="#多元回归系数矩阵" class="headerlink" title="多元回归系数矩阵"></a>多元回归系数矩阵</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/48541799">https://zhuanlan.zhihu.com/p/48541799</a></p>
<h2 id="最小二乘法线性回归：矩阵视角"><a href="#最小二乘法线性回归：矩阵视角" class="headerlink" title="最小二乘法线性回归：矩阵视角"></a>最小二乘法线性回归：矩阵视角</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33899560">https://zhuanlan.zhihu.com/p/33899560</a></p>
<h2 id="Git安装、使用"><a href="#Git安装、使用" class="headerlink" title="Git安装、使用"></a>Git安装、使用</h2><p><a target="_blank" rel="noopener" href="https://backlog.com/git-tutorial/cn/intro/intro2_1.html">https://backlog.com/git-tutorial/cn/intro/intro2_1.html</a></p>
<p>可以直接参考找个教程</p>
<h2 id="OpenCV-VisualStudio环境配置"><a href="#OpenCV-VisualStudio环境配置" class="headerlink" title="OpenCV+VisualStudio环境配置"></a>OpenCV+VisualStudio环境配置</h2><p>弄了好久还是没有成功，先把JavaScript学习完，过几天再弄吧！</p>
<h2 id="心语"><a href="#心语" class="headerlink" title="心语"></a>心语</h2><p>好久没有运动，昨天回去的时候跑了几圈，今天全身酸痛，精神一点都不好，调整状态。</p>
<h1 id="2020年10月17日"><a href="#2020年10月17日" class="headerlink" title="2020年10月17日"></a>2020年10月17日</h1><ul>
<li>python读取写入文件等操作；<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/40937189">https://zhuanlan.zhihu.com/p/40937189</a></li>
<li>通过sklearn调用linearregression算法</li>
<li>手动实现一元线性回归算法及其算法的评估</li>
</ul>
<p>过程如下，代码是自己按照教程重写一遍，略有改动，原文链接也在。图片没有插入进来。</p>
<h2 id="pandas读取文件"><a href="#pandas读取文件" class="headerlink" title="pandas读取文件"></a>pandas读取文件</h2><h3 id="读取txt文件"><a href="#读取txt文件" class="headerlink" title="读取txt文件"></a>读取txt文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;employee_birthday.txt&#x27;</span>) <span class="keyword">as</span> csv_file:</span><br><span class="line">    csv_reader = csv.reader(csv_file, delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    line_count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csv_reader:</span><br><span class="line">        <span class="keyword">if</span> line_count == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">f&#x27;Column names are <span class="subst">&#123;<span class="string">&quot;, &quot;</span>.join(row)&#125;</span>&#x27;</span>)</span><br><span class="line">            line_count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">f&#x27;\t<span class="subst">&#123;row[<span class="number">0</span>]&#125;</span> works in the <span class="subst">&#123;row[<span class="number">1</span>]&#125;</span> department, and was born in <span class="subst">&#123;row[<span class="number">2</span>]&#125;</span>.&#x27;</span>)</span><br><span class="line">            line_count += <span class="number">1</span></span><br><span class="line">    print(<span class="string">f&#x27;Processed <span class="subst">&#123;line_count&#125;</span> lines.&#x27;</span>) </span><br></pre></td></tr></table></figure>

<pre><code>Column names are name, department, birthday month
    John Smith works in the Accounting department, and was born in November.
    Erica Meyers works in the IT department, and was born in March.
Processed 3 lines.</code></pre>
<h3 id="将csv文件读入字典"><a href="#将csv文件读入字典" class="headerlink" title="将csv文件读入字典"></a>将csv文件读入字典</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;employee_birthday.txt&#x27;</span>, mode =<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> csv_file:</span><br><span class="line">    csv_reader = csv.DictReader(csv_file)</span><br><span class="line">    line_count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csv_reader:</span><br><span class="line">        <span class="keyword">if</span> line_count == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">f&#x27;Column names are <span class="subst">&#123;<span class="string">&quot;, &quot;</span>.join(row)&#125;</span>&#x27;</span>)</span><br><span class="line">            line_count += <span class="number">1</span></span><br><span class="line">        print(<span class="string">f&#x27;\t<span class="subst">&#123;row[<span class="string">&quot;name&quot;</span>]&#125;</span> works in the <span class="subst">&#123;row[<span class="string">&quot;department&quot;</span>]&#125;</span> department, and was born in <span class="subst">&#123;row[<span class="string">&quot;birthday month&quot;</span>]&#125;</span>&quot;.&#x27;</span>)</span><br><span class="line">        <span class="comment">#print(f&#x27;\t&#123;row[&quot;name&quot;]&#125; works in the &#123;row[&quot;department&quot;]&#125; department, and was born in &#123;row[&quot;birthday month&quot;]&#125;.&#x27;)</span></span><br><span class="line">        line_count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;Preocessed <span class="subst">&#123;line_count&#125;</span> lines.&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>Column names are name, department, birthday month
    John Smith works in the Accounting department, and was born in November&quot;.
    Erica Meyers works in the IT department, and was born in March&quot;.
Preocessed 3 lines.</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;employee_birthday.txt&#x27;</span>, mode=<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> csv_file:</span><br><span class="line">    csv_reader = csv.DictReader(csv_file)</span><br><span class="line">    line_count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csv_reader:</span><br><span class="line">        <span class="keyword">if</span> line_count == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">f&#x27;Column names are <span class="subst">&#123;<span class="string">&quot;, &quot;</span>.join(row)&#125;</span>&#x27;</span>)</span><br><span class="line">            line_count += <span class="number">1</span></span><br><span class="line">        print(<span class="string">f&#x27;\t<span class="subst">&#123;row[<span class="string">&quot;name&quot;</span>]&#125;</span> works in the <span class="subst">&#123;row[<span class="string">&quot;department&quot;</span>]&#125;</span> department, and was born in <span class="subst">&#123;row[<span class="string">&quot;birthday month&quot;</span>]&#125;</span>.&#x27;</span>)</span><br><span class="line">        line_count += <span class="number">1</span></span><br><span class="line">    print(<span class="string">f&#x27;Processed <span class="subst">&#123;line_count&#125;</span> lines.&#x27;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Column names are name, department, birthday month
    &#123;row[&quot;name&quot;]&#125; works in the &#123;row[&quot;department&quot;]&#125; department, and was born in &#123;row[&quot;birthday month&quot;]&#125;.
    &#123;row[&quot;name&quot;]&#125; works in the &#123;row[&quot;department&quot;]&#125; department, and was born in &#123;row[&quot;birthday month&quot;]&#125;.
Processed 3 lines.</code></pre>
<h3 id="使用csv写入csv文件"><a href="#使用csv写入csv文件" class="headerlink" title="使用csv写入csv文件"></a>使用csv写入csv文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;employee_file.csv&#x27;</span>, mode = <span class="string">&#x27;w&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> employee_file:</span><br><span class="line">    employee_writer = csv.writer(employee_file, delimiter = <span class="string">&#x27;,&#x27;</span>, quotechar = <span class="string">&#x27;&quot;&#x27;</span>, quoting = csv.QUOTE_MINIMAL)</span><br><span class="line">    employee_writer.writerow([<span class="string">&#x27;John Smith&#x27;</span>, <span class="string">&#x27;Acounting&#x27;</span>, <span class="string">&#x27;November&#x27;</span>])</span><br><span class="line">    employee_writer.writerow([<span class="string">&#x27;Erica Meyers&#x27;</span>, <span class="string">&#x27;IT&#x27;</span>, <span class="string">&#x27;March&#x27;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="使用csv把字典写入csv文件"><a href="#使用csv把字典写入csv文件" class="headerlink" title="使用csv把字典写入csv文件"></a>使用csv把字典写入csv文件</h3><p>写入的时候会有空行，要加入newline=‘’,这样每行之后的空行就会消失</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;employee_file2.csv&#x27;</span>, mode=<span class="string">&#x27;w&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> csv_file:</span><br><span class="line">    fieldnames = [<span class="string">&#x27;emp_name&#x27;</span>, <span class="string">&#x27;dept&#x27;</span>, <span class="string">&#x27;birth_month&#x27;</span>]</span><br><span class="line">    writer = csv.DictWriter(csv_file, fieldnames=fieldnames)</span><br><span class="line">    writer.writeheader()</span><br><span class="line">    writer.writerow(&#123;<span class="string">&#x27;emp_name&#x27;</span>:<span class="string">&#x27;John Smith&#x27;</span>, <span class="string">&#x27;dept&#x27;</span>:<span class="string">&#x27;Acounting&#x27;</span>, <span class="string">&#x27;birth_month&#x27;</span>:<span class="string">&#x27;November&#x27;</span>&#125;)</span><br><span class="line">    writer.writerow(&#123;<span class="string">&#x27;emp_name&#x27;</span>:<span class="string">&#x27;Erica Meyers&#x27;</span>, <span class="string">&#x27;dept&#x27;</span>:<span class="string">&#x27;IT&#x27;</span>, <span class="string">&#x27;birth_month&#x27;</span>:<span class="string">&#x27;March&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="使用pandas读取csv文件"><a href="#使用pandas读取csv文件" class="headerlink" title="使用pandas读取csv文件"></a>使用pandas读取csv文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把txt读入到csv</span></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">fh = open(<span class="string">r&#x27;hrdata.csv&#x27;</span>,mode=<span class="string">&#x27;w&#x27;</span>,newline=<span class="string">&quot;&quot;</span>)</span><br><span class="line">writer = csv.writer(fh)</span><br><span class="line">csvRow = []</span><br><span class="line"></span><br><span class="line">data = open(<span class="string">r&#x27;hrdata.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> data:</span><br><span class="line">    csvRow = line.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    writer.writerow(csvRow)</span><br><span class="line">fh.close()</span><br><span class="line">data.close()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas</span><br><span class="line">df = pandas.read_csv(<span class="string">&#x27;hrdata.csv&#x27;</span>)</span><br><span class="line">print(df)</span><br><span class="line">print(type(df[<span class="string">&#x27;Hire Date&#x27;</span>][<span class="number">0</span>]))</span><br></pre></td></tr></table></figure>

<pre><code>             Name Hire Date   Salary  Sick Days remaining\n
0  Graham Chapman  03/15/14  50000.0                     10
1     John Cleese  06/01/15  65000.0                      8
2       Eric Idle  05/12/14  45000.0                     10
3     Terry Jones  11/01/13  70000.0                      3
4   Terry Gilliam  08/12/14  48000.0                      7
5   Michael Palin  05/23/13  66000.0                      8
&lt;class &#39;str&#39;&gt;</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把Name作为索引</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df2 = pd.read_csv(<span class="string">&#x27;hrdata.csv&#x27;</span>, index_col = <span class="string">&#x27;Name&#x27;</span>)</span><br><span class="line">print(df2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>               Hire Date   Salary  Sick Days remaining\n
Name                                                    
Graham Chapman  03/15/14  50000.0                     10
John Cleese     06/01/15  65000.0                      8
Eric Idle       05/12/14  45000.0                     10
Terry Jones     11/01/13  70000.0                      3
Terry Gilliam   08/12/14  48000.0                      7
Michael Palin   05/23/13  66000.0                      8</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#把Hire Date作为日期使用</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df3 = pd.read_csv(<span class="string">&#x27;hrdata.csv&#x27;</span>, index_col = <span class="string">&#x27;Name&#x27;</span>, parse_dates=[<span class="string">&#x27;Hire Date&#x27;</span>])</span><br><span class="line">print(df3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>                Hire Date   Salary  Sick Days remaining\n
Name                                                     
Graham Chapman 2014-03-15  50000.0                     10
John Cleese    2015-06-01  65000.0                      8
Eric Idle      2014-05-12  45000.0                     10
Terry Jones    2013-11-01  70000.0                      3
Terry Gilliam  2014-08-12  48000.0                      7
Michael Palin  2013-05-23  66000.0                      8</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一行没有列名, header=0为了忽略列名</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df4 = pd.read_csv(<span class="string">&#x27;hrdata.csv&#x27;</span>,</span><br><span class="line">                 index_col=<span class="string">&#x27;Employee&#x27;</span>,</span><br><span class="line">                 parse_dates=[<span class="string">&#x27;Hired&#x27;</span>],</span><br><span class="line">                 header = <span class="number">0</span>,</span><br><span class="line">                 names = [<span class="string">&#x27;Employee&#x27;</span>, <span class="string">&#x27;Hired&#x27;</span>, <span class="string">&#x27;Salary&#x27;</span>, <span class="string">&#x27;Sick Days&#x27;</span>])</span><br><span class="line">print(df4)</span><br><span class="line">df4.to_csv(<span class="string">&#x27;hrdata_modified.csv&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>                    Hired   Salary  Sick Days
Employee                                     
Graham Chapman 2014-03-15  50000.0         10
John Cleese    2015-06-01  65000.0          8
Eric Idle      2014-05-12  45000.0         10
Terry Jones    2013-11-01  70000.0          3
Terry Gilliam  2014-08-12  48000.0          7
Michael Palin  2013-05-23  66000.0          8</code></pre>
<h2 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h2><h3 id="简单线性回归"><a href="#简单线性回归" class="headerlink" title="简单线性回归"></a>简单线性回归</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_40014576/article/details/79918819">https://blog.csdn.net/weixin_40014576/article/details/79918819</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame, Series</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line"><span class="comment">#from sklearn.cross_validation import train_test_split</span></span><br><span class="line"><span class="comment">#from sklearn.liner_model import LinearRegression</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建数据集</span></span><br><span class="line">examDict  = &#123;<span class="string">&#x27;学习时间&#x27;</span>:[<span class="number">0.50</span>,<span class="number">0.75</span>,<span class="number">1.00</span>,<span class="number">1.25</span>,<span class="number">1.50</span>,<span class="number">1.75</span>,<span class="number">1.75</span>,</span><br><span class="line">                     <span class="number">2.00</span>,<span class="number">2.25</span>,<span class="number">2.50</span>,<span class="number">2.75</span>,<span class="number">3.00</span>,<span class="number">3.25</span>,<span class="number">3.50</span>,<span class="number">4.00</span>,<span class="number">4.25</span>,<span class="number">4.50</span>,<span class="number">4.75</span>,<span class="number">5.00</span>,<span class="number">5.50</span>],</span><br><span class="line">             <span class="string">&#x27;分数&#x27;</span>:[<span class="number">10</span>,<span class="number">22</span>,<span class="number">13</span>,<span class="number">43</span>,<span class="number">20</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">50</span>,<span class="number">62</span>,</span><br><span class="line">                   <span class="number">48</span>,<span class="number">55</span>,<span class="number">75</span>,<span class="number">62</span>,<span class="number">73</span>,<span class="number">81</span>,<span class="number">76</span>,<span class="number">64</span>,<span class="number">82</span>,<span class="number">90</span>,<span class="number">93</span>]&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#转换为DataFrame的数据格式</span></span><br><span class="line">exam = DataFrame(examDict)</span><br><span class="line">print(exam)</span><br></pre></td></tr></table></figure>

<pre><code>    学习时间  分数
0   0.50  10
1   0.75  22
2   1.00  13
3   1.25  43
4   1.50  20
5   1.75  22
6   1.75  33
7   2.00  50
8   2.25  62
9   2.50  48
10  2.75  55
11  3.00  75
12  3.25  62
13  3.50  73
14  4.00  81
15  4.25  76
16  4.50  64
17  4.75  82
18  5.00  90
19  5.50  93</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 绘制散点图</span></span><br><span class="line">plt.scatter(exam.分数,exam.学习时间, color=<span class="string">&#x27;b&#x27;</span>, label=<span class="string">&quot;Exam Data&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加图的标签（x轴， y轴）</span></span><br><span class="line">plt.xlabel(<span class="string">&quot;Hours&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#显示图像</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#两者的相关性系数</span></span><br><span class="line">rDf = exam.corr()</span><br><span class="line">print(rDf)</span><br></pre></td></tr></table></figure>

<pre><code>          学习时间        分数
学习时间  1.000000  0.923985
分数    0.923985  1.000000</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将原始数据分为训练集和数据集</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(exam.学习时间, exam.分数, train_size=<span class="number">0.7</span>)</span><br><span class="line"><span class="comment">#x_train, x_test分别为训练数据标签、测试数据标签， train_size为训练数据的占比</span></span><br><span class="line">print(<span class="string">&quot;原始数据特征：&quot;</span>, exam.学习时间.shape,</span><br><span class="line">     <span class="string">&quot;,训练数据特征：&quot;</span>, x_train.shape,</span><br><span class="line">     <span class="string">&quot;,测试数据特征：&quot;</span>, x_test.shape)</span><br><span class="line">print(<span class="string">&quot;原始数据标签：&quot;</span>, exam.分数.shape,</span><br><span class="line">     <span class="string">&quot;,训练数据特征：&quot;</span>, y_train.shape,</span><br><span class="line">     <span class="string">&quot;,测试数据特征: &quot;</span>, y_test.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment">#散点图</span></span><br><span class="line">plt.scatter(x_train, y_train, color=<span class="string">&#x27;blue&#x27;</span>, label=<span class="string">&quot;train data&quot;</span>)</span><br><span class="line">plt.scatter(x_test, y_test, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&quot;test data&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加图标标签</span></span><br><span class="line">plt.legend(loc=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&quot;Hours&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;pass&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#显示图像</span></span><br><span class="line">plt.savefig(<span class="string">&quot;tests.jpg&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<pre><code>原始数据特征： (20,) ,训练数据特征： (14,) ,测试数据特征： (6,)
原始数据标签： (20,) ,训练数据特征： (14,) ,测试数据特征:  (6,)</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#调用LinearRegression</span></span><br><span class="line">model = LinearRegression()</span><br><span class="line">x_train = x_train.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">y_train = y_train.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">model.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#获得截距、回归系数</span></span><br><span class="line">a = model.intercept_</span><br><span class="line">b = model.coef_</span><br><span class="line">print(<span class="string">&quot;最佳拟合线：截距:&quot;</span>, a, <span class="string">&quot;,回归系数:&quot;</span>, b)</span><br></pre></td></tr></table></figure>

<pre><code>最佳拟合线：截距: [6.96116134] ,回归系数: [[16.98153572]]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#训练数据的预测值</span></span><br><span class="line">y_train_pred = model.predict(x_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制最佳拟合线</span></span><br><span class="line">plt.plot(x_train, y_train_pred, color=<span class="string">&#x27;black&#x27;</span>, linewidth=<span class="number">4</span>, label=<span class="string">&quot;BestLine&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试数据散点图</span></span><br><span class="line">plt.scatter(x_test, y_test, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&quot;TestData&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加图标签</span></span><br><span class="line">plt.legend(loc=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&quot;Hours&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#显示图像</span></span><br><span class="line">plt.savefig(<span class="string">&quot;lines.jpg&quot;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试数据得到的模型分数</span></span><br><span class="line">x_test = x_test.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">y_test = y_test.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">score = model.score(x_test, y_test)</span><br><span class="line">print(<span class="string">&quot;score=&quot;</span>, score)</span><br></pre></td></tr></table></figure>


<pre><code>score= 0.5830411327857772</code></pre>
<h3 id="手动实现简单线性回归算法"><a href="#手动实现简单线性回归算法" class="headerlink" title="手动实现简单线性回归算法"></a>手动实现简单线性回归算法</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46072771/article/details/104875456">https://blog.csdn.net/weixin_46072771/article/details/104875456</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame, Series</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"><span class="comment"># 封装自己的简单线性回归</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleLinearRegression</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.a = <span class="literal">None</span></span><br><span class="line">        self.b = <span class="literal">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, x_train, y_train</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        训练参数</span></span><br><span class="line"><span class="string">        :param x_train:属性数据集</span></span><br><span class="line"><span class="string">        :param y_train:特征数据集</span></span><br><span class="line"><span class="string">        :return: a回归系数， b截距</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> x_train.ndim == <span class="number">1</span>,<span class="string">&quot;一元线性回归只能有一个属性&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> len(x_train) == len(y_train), <span class="string">&quot;属性-标签一一对应&quot;</span></span><br><span class="line">        </span><br><span class="line">        x_mean = np.mean(x_train)</span><br><span class="line">        y_mean = np.mean(y_train)</span><br><span class="line">        </span><br><span class="line">        num = <span class="number">0.0</span></span><br><span class="line">        d = <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">for</span> x_i, y_i <span class="keyword">in</span> zip(x_train, y_train):</span><br><span class="line">            num += (x_i - x_mean) * (y_i - y_mean)</span><br><span class="line">            d += (x_i - x_mean) ** <span class="number">2</span></span><br><span class="line">        <span class="comment"># a代表斜率，b代表截距</span></span><br><span class="line">        self.a = num / d</span><br><span class="line">        self.b = y_mean - self.a * x_mean</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">self, x_predict</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        预测一组数据</span></span><br><span class="line"><span class="string">        :param x_predict：预测数据集</span></span><br><span class="line"><span class="string">        :return:预测结果</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> x_predict.ndim == <span class="number">1</span>, <span class="string">&quot;只能有一个属性&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> self.a <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.b <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>, <span class="string">&quot;need use .fit()&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> np.array([self._predict(x) <span class="keyword">for</span> x <span class="keyword">in</span> x_predict])</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_predict</span>(<span class="params">self, x_single</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        对单一数据进行线性回归</span></span><br><span class="line"><span class="string">        :param x_single：单一预测数据</span></span><br><span class="line"><span class="string">        :return: 预测结果</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.a * x_single + self.b</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;一元线性规划&quot;</span></span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建数据集</span></span><br><span class="line">examDict  = &#123;<span class="string">&#x27;学习时间&#x27;</span>:[<span class="number">0.50</span>,<span class="number">0.75</span>,<span class="number">1.00</span>,<span class="number">1.25</span>,<span class="number">1.50</span>,<span class="number">1.75</span>,<span class="number">1.75</span>,</span><br><span class="line">                     <span class="number">2.00</span>,<span class="number">2.25</span>,<span class="number">2.50</span>,<span class="number">2.75</span>,<span class="number">3.00</span>,<span class="number">3.25</span>,<span class="number">3.50</span>,<span class="number">4.00</span>,<span class="number">4.25</span>,<span class="number">4.50</span>,<span class="number">4.75</span>,<span class="number">5.00</span>,<span class="number">5.50</span>],</span><br><span class="line">             <span class="string">&#x27;分数&#x27;</span>:[<span class="number">10</span>,<span class="number">22</span>,<span class="number">13</span>,<span class="number">43</span>,<span class="number">20</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">50</span>,<span class="number">62</span>,</span><br><span class="line">                   <span class="number">48</span>,<span class="number">55</span>,<span class="number">75</span>,<span class="number">62</span>,<span class="number">73</span>,<span class="number">81</span>,<span class="number">76</span>,<span class="number">64</span>,<span class="number">82</span>,<span class="number">90</span>,<span class="number">93</span>]&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#转换为DataFrame的数据格式</span></span><br><span class="line">exam = DataFrame(examDict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将原始数据分为训练集和数据集</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(exam.学习时间, exam.分数, train_size=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#调用SimpleLinearRegression</span></span><br><span class="line">SLR = SimpleLinearRegression()</span><br><span class="line">SLR.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#训练数据的预测值</span></span><br><span class="line">y_train_pred = SLR.predict(x_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制最佳拟合线</span></span><br><span class="line">plt.plot(x_train, y_train_pred, color=<span class="string">&#x27;black&#x27;</span>, linewidth=<span class="number">4</span>, label=<span class="string">&quot;BestLine&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试数据散点图</span></span><br><span class="line">plt.scatter(x_test, y_test, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&quot;TestData&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加图标签</span></span><br><span class="line">plt.legend(loc=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&quot;Hours&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>




<pre><code>Text(0, 0.5, &#39;Score&#39;)</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#预测测试集,并输出测试集以及预测之后的结果</span></span><br><span class="line">y_test_pred = SLR.predict(x_test)</span><br><span class="line">plt.scatter(x_test, y_test, color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.scatter(x_test, y_test_pred, color=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#预测单个数值</span></span><br><span class="line">y_test_predOne = SLR._predict(<span class="number">3.5</span>)</span><br><span class="line">print(y_test_predOne)</span><br></pre></td></tr></table></figure>

<pre><code>64.75262597046735</code></pre>
<h3 id="回归算法评估"><a href="#回归算法评估" class="headerlink" title="回归算法评估"></a>回归算法评估</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zrh_CSDN/article/details/81190221">https://blog.csdn.net/zrh_CSDN/article/details/81190221</a><br>评价方式包括：RMSE均方根误差、MSE均方误差、MAE绝对误差</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据处理-以波士顿房价数据中【房间个数-RM】</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line">boston = datasets.load_boston()</span><br><span class="line">print(boston.feature_names)</span><br></pre></td></tr></table></figure>

<pre><code>[&#39;CRIM&#39; &#39;ZN&#39; &#39;INDUS&#39; &#39;CHAS&#39; &#39;NOX&#39; &#39;RM&#39; &#39;AGE&#39; &#39;DIS&#39; &#39;RAD&#39; &#39;TAX&#39; &#39;PTRATIO&#39;
 &#39;B&#39; &#39;LSTAT&#39;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#绘制散点图</span></span><br><span class="line">x = boston.data[:, <span class="number">5</span>]</span><br><span class="line">y = boston.target</span><br><span class="line">plt.scatter(x, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#上图中有部分数据报表，超过五十，因此我们进行数据删除</span></span><br><span class="line">x = x[y&lt;<span class="number">50.0</span>]</span><br><span class="line">y = y[y&lt;<span class="number">50.0</span>]</span><br><span class="line">plt.scatter(x, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#数据分为训练集和测试集</span></span><br><span class="line">x_train2, x_test2, y_train2, y_test2 = train_test_split(x, y, train_size = <span class="number">0.75</span>)</span><br><span class="line">SLR.fit(x_train2, y_train2)</span><br><span class="line">plt.scatter(x_train2, y_train2)</span><br><span class="line">plt.plot(x_train2, SLR.predict(x_train2), color = <span class="string">&#x27;r&#x27;</span>)</span><br></pre></td></tr></table></figure>


<pre><code>[&lt;matplotlib.lines.Line2D at 0x23433fbb3a0&gt;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#均方差</span></span><br><span class="line">y_predict2 = SLR.predict(x_test2)</span><br><span class="line">mse_test = np.sum((y_predict2 - y_test2)**<span class="number">2</span>)/len(y_test2)</span><br><span class="line">print(mse_test)</span><br></pre></td></tr></table></figure>

<pre><code>28.3742090622532</code></pre>
</div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Learning-Log/">Learning Log</a></div><div class="post_share"><div class="social-share" data-image="https://store-images.s-microsoft.com/image/apps.48707.14224260644356105.8c88ca90-ccbc-4f4e-b92b-a1ca170cbc77.4971ac5d-1f03-483a-b2c9-0f89c8d6d803?w=672&amp;h=378&amp;q=80&amp;mode=letterbox&amp;background=%23FFE4E4E4&amp;format=jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/10/19/ML-my-hw1-regression/"><img class="prev-cover" src="https://store-images.s-microsoft.com/image/apps.15988.14224260644356105.8c88ca90-ccbc-4f4e-b92b-a1ca170cbc77.bdd42f74-6573-4bdd-a182-2a78a12e9797?w=672&amp;h=378&amp;q=80&amp;mode=letterbox&amp;background=%23FFE4E4E4&amp;format=jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">《机器学习（李宏毅2020spring）》作业1：Regression</div></div></a></div><div class="next-post pull-right"><a href="/2020/10/15/ML-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E6%9D%8E%E5%AE%8F%E6%AF%85%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="next-cover" src="https://store-images.s-microsoft.com/image/apps.30419.14224260644356105.8c88ca90-ccbc-4f4e-b92b-a1ca170cbc77.4b0fd7af-3555-4a2d-adc6-a91cf51f30bb?w=672&amp;h=378&amp;q=80&amp;mode=letterbox&amp;background=%23FFE4E4E4&amp;format=jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">《机器学习（李宏毅2020spring）》学习笔记(持续更新)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2020/10/26/LL-学习日志10月26日-11月1日/" title="学习日志10月26日-11月1日"><img class="cover" src="https://store-images.s-microsoft.com/image/apps.2228.14212623725120134.623fdbc1-19d2-4782-9ec0-3689031a5351.e7b5cc29-6372-4da7-8d63-b6a64e346d99?mode=scale&q=90&h=1080&w=1920"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-10-26</div><div class="title">学习日志10月26日-11月1日</div></div></a></div><div><a href="/2020/11/02/LL-学习日志11月2日-11月8日/" title="学习日志11月2日-11月8日"><img class="cover" src="https://store-images.s-microsoft.com/image/apps.53636.14077318991609137.74bb1f9d-01ce-4ec6-aecf-81719875e023.05ba4878-0779-4c67-b36d-5fba9acee597?mode=scale&q=90&h=1080&w=1920"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-02</div><div class="title">学习日志11月2日-11月8日</div></div></a></div></div></div></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By 侯三多</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" async="async" mobile="false"></script></div></body></html>